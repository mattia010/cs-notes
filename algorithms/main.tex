\documentclass[notoc, oneside, openany]{tufte-book}
\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{2}

\makeatletter
% Paragraph indentation and separation for normal text
\renewcommand{\@tufte@reset@par}{%
  \setlength{\RaggedRightParindent}{0pt}%
  \setlength{\JustifyingParindent}{0pt}%
  \setlength{\parindent}{0pt}%
  \setlength{\parskip}{4pt}%
}
\@tufte@reset@par

% Paragraph indentation and separation for marginal text
\renewcommand{\@tufte@margin@par}{%
  \setlength{\RaggedRightParindent}{0pt}%
  \setlength{\JustifyingParindent}{0pt}%
  \setlength{\parindent}{0pt}%
  \setlength{\parskip}{4pt}%
}

\title{
    {\huge Appunti di}\\
    Teoria della\\
    Computazione
}
\author{Mattia Bolognini}
\date{Ultima modifica: \today}

\makeatletter
\renewcommand{\maketitlepage}{%
\begingroup%
\setlength{\parindent}{0pt}
{\fontsize{24}{24}\selectfont\textit{\@author}\par}
\vspace{1.75in}{\fontsize{36}{54}\selectfont\@title\par}
\vspace{0.5in}{\fontsize{14}{14}\selectfont\textsf{\smallcaps{\@date}}\par}
\vfill{\fontsize{14}{14}\selectfont\textit{\@publisher}\par}
\thispagestyle{empty}
\endgroup
}
\makeatother

\geometry{
    %showframe, % for debugging purposes -- displays the margins
	left=13mm, % left margin
	textwidth=135mm, % main text block
	marginparsep=8mm, % gutter between main text block and margin notes
	marginparwidth=50mm % width of margin notes
}
\fontsize{10}{20}\selectfont

%--------Package inclusions--------
\usepackage{clrscode3e} % Pseudocode in the style of "Introduction to algorithms"
\usepackage{minted} % Code highlighting for different programming languages
\usepackage[activate={true,nocompatibility},final,tracking=true,patch=footnote,kerning=true,spacing=true,factor=1100,stretch=10,shrink=10]{microtype}
\usepackage{pgf,tikz,tikz-cd}
\usepackage{amsmath,amsthm,amssymb,amsfonts} % Math packages
\usepackage{tabularx,environ} % For problem definition
\usepackage{relsize, xfrac} % Math utilities
\usepackage{bussproofs} % Derivation tree
\usepackage{optidef} % Write optimization problem
\usepackage[italian]{babel}
\usepackage{booktabs} % Makes prettier tables.
\usepackage{multicol} % Small sections of multiple columns in documents and tables.
\usepackage{units}
\usepackage{fancyvrb} % Customization of the formatting of verbatim environments.
\fvset{fontsize=\normalsize} % Use a smaller font for the verb environment.
\usepackage{sectsty} % Customization of section commands
\allsectionsfont{\normalfont \bfseries} % All sections centered, using the default font and small caps
\usepackage{graphicx}
\setkeys{Gin}{width=\linewidth,totalheight=\textheight,keepaspectratio}
\graphicspath{/images}
\usepackage{hyperref} % Allows hyperlinks in generated PDF file
\usepackage{lipsum} % Lorem Ipsum text
\usepackage{fancyhdr} % Custom headers and footers
\pagestyle{fancyplain} % Makes all pages in the document conform to the custom headers and footers
\fancyhead{} % No page header - if you want one, create it in the same way as the footers below
\fancyfoot[L]{} % Empty left footer
\fancyfoot[C]{} % Empty center footer
\fancyfoot[R]{\thepage} % Page numbering for right footer
\renewcommand{\headrulewidth}{0pt} % Remove header underlines
\renewcommand{\footrulewidth}{0pt} % Remove footer underlines
\setlength{\headheight}{13.6pt} % Customize the height of the header
\allowdisplaybreaks

%--------Theorem Environments--------
\newtheorem{property}{Proprietà}

%theoremstyle{plain} --- default
\theoremstyle{definition}
\newtheorem{thm}{Teorema}
\newtheorem{defn}[thm]{Definizione}
\newtheorem{defns}[thm]{Definitions}
\newtheorem{con}[thm]{Construction}
\newtheorem{exmp}[thm]{Example}
\newtheorem{exmps}[thm]{Examples}
\newtheorem{notn}[thm]{Notation}
\newtheorem{notns}[thm]{Notations}
\newtheorem{addm}[thm]{Addendum}
\newtheorem{exer}[thm]{Exercise}


\newtheorem{cor}[thm]{Corollary}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{conj}[thm]{Conjecture}
\newtheorem{quest}[thm]{Question}
\newtheorem{claim}{Claim}


\theoremstyle{remark}
\newtheorem{rem}[thm]{Osservazione}
\newtheorem{ans}[thm]{Answer}
\newtheorem{rems}[thm]{Remarks}
\newtheorem{warn}[thm]{Warning}
\newtheorem{sch}[thm]{Scholium}

%--------Command Definitions--------
% Operators
\newcommand{\Mod}[1]{\ (\text{mod}\ #1)}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\OR}{\,|\,}
\newcommand{\AND}{\,\&\,}
\newcommand{\NOT}{!}

% Parenthesis
\newcommand{\bra}[1]{\left(#1\right)}
\newcommand{\sbra}[1]{\left[#1\right]}
\newcommand{\cbra}[1]{\left\{#1\right\}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\ang}[1]{\left\langle#1\right\rangle}

% Shortened versions
\newcommand{\tn}[1]{\textnormal{#1}}

\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}

\newcommand{\occ}{\tn{Occ}}
\newcommand{\bwt}{\tn{BWT}}
\newcommand{\lf}{\tn{LF}}

% Theoretical Computer Science problem definition
\makeatletter

% https://tex.stackexchange.com/a/199244/26355
\newcolumntype{\expand}{}
\long\@namedef{NC@rewrite@\string\expand}{\expandafter\NC@find}

\NewEnviron{problem}[2][]{%
  \def\problem@arg{#1}%
  \def\problem@framed{framed}%
  \def\problem@lined{lined}%
  \def\problem@doublelined{doublelined}%
  \ifx\problem@arg\@empty%
    \def\problem@hline{}%
  \else%
    \ifx\problem@arg\problem@doublelined%
      \def\problem@hline{\hline\hline}%
    \else%
      \def\problem@hline{\hline}%
    \fi%
  \fi%
  \ifx\problem@arg\problem@framed%
    \def\problem@tablelayout{|>{\bfseries}lX|c}%
    \def\problem@title{\multicolumn{2}{|%
      >{\raisebox{-\fboxsep}}%
      p{\dimexpr\textwidth-4\fboxsep-2\arrayrulewidth\relax}%
      |}{%
        \textsc{\Large #2}%
      }}%
  \else
    \def\problem@tablelayout{>{\bfseries}lXc}%
    \def\problem@title{\multicolumn{2}{>%
      {\raisebox{-\fboxsep}}%
      p{\dimexpr\textwidth-4\fboxsep\relax}%
      }{%
        \textsc{\Large #2}%
      }}%
  \fi%
  \bigskip\par\noindent%
  \renewcommand{\arraystretch}{1.2}%
  \begin{tabularx}{\textwidth}{\expand\problem@tablelayout}%
    \problem@hline%
    \problem@title\\[2\fboxsep]%
    \BODY\\\problem@hline%
  \end{tabularx}%
  \medskip\par%
}
\makeatother

% Cost function for approx algorithms
\newcommand{\opt}{\tn{opt}}
\newcommand{\appr}{\tn{A}}

% Utilities for special chars
\newcommand{\upperAccE}{È \,}

\begin{document}

\maketitle

\tableofcontents

\include{chap/pattern_matching.tex}

\end{document}





